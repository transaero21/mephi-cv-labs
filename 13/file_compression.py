"""
Сжатие текстовых файлов с помощью gzip
Демонстрирует базовые операции сжатия данных
и работу с архивами в Python
"""
import os
import gzip
import shutil

if not os.path.exists('temp'):
    os.makedirs('temp')

# Создание и запись текстового файла
f = open('temp/TT.txt', 'w', encoding='utf-8')

s = '''Сын перед своей свадьбой говорит отцу: "Папа, у меня очень много дел и по работе мне нужно уехать в другой город.
Вот мой телефон, обзвони, пожалуйста, всех друзей из записной книжки, в ней 200 человек, пригласи их от меня,
у меня сейчас на это совсем нет времени. Хорошо? "
— Хорошо! — ответил отец.
Отец обзвонил всех и сказал, что у сына серьёзные проблемы, ему очень нужна помощь и что всех их он ждёт в загородном доме в назначенное время.
Сын возвращается, спешит на свадьбу в свой загородной дом. Приезжает, а там… собралось 15 человек...
Сын говорит отцу:
— Отец, я же просил пригласить всех моих друзей?
Отец ответил:
— Сынок, поверь отцу, который прожил долгую жизнь, все друзья сейчас с тобой, а другие тебе не нужны!'''

f.write(s)
f.close()

# Сжатие файла с помощью gzip
with open('temp/TT.txt', 'rb') as f_in:
    with gzip.open('temp/TT.txt.gz', 'wb') as f_out:
        shutil.copyfileobj(f_in, f_out)

print("File compressed successfully: TT.txt.gz")
